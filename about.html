<!DOCTYPE html>
<html lang="en" id="html-root">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="About Md Fahim, Doing something"
    />
    <title>About | Academic Profile</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/animations.css" />
    <script src="https://cdn.tailwindcss.com?plugins=typography,forms"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
            },
            typography: ({ theme }) => ({
              custom: {
                css: {
                  "--tw-prose-body": theme("colors.slate[600]"),
                  "--tw-prose-headings": theme("colors.slate[800]"),
                  "--tw-prose-links": theme("colors.teal[600]"),
                  "--tw-prose-bold": theme("colors.slate[800]"),
                  "--tw-prose-bullets": theme("colors.slate[400]"),
                  "--tw-prose-hr": theme("colors.slate[200]"),
                  "--tw-prose-quotes": theme("colors.slate[800]"),
                  "--tw-prose-quote-borders": theme("colors.teal[300]"),

                  "--tw-prose-invert-body": theme("colors.slate[300]"),
                  "--tw-prose-invert-headings": theme("colors.slate[100]"),
                  "--tw-prose-invert-links": theme("colors.teal[400]"),
                  "--tw-prose-invert-bold": theme("colors.slate[100]"),
                  "--tw-prose-invert-bullets": theme("colors.slate[600]"),
                  "--tw-prose-invert-hr": theme("colors.slate[700]"),
                  "--tw-prose-invert-quotes": theme("colors.slate[100]"),
                  "--tw-prose-invert-quote-borders": theme("colors.teal[700]"),
                },
              },
            }),
          },
        },
      };
    </script>
  </head>

  <body
    class="font-sans bg-slate-50 text-slate-700 dark:bg-slate-900 dark:text-slate-300 min-h-screen flex flex-col transition-colors duration-300"
  >
    <div id="header-partial"></div>

    <main
      class="flex-1 w-full max-w-6xl mx-auto px-4 pb-10 flex flex-col lg:flex-row gap-12 pt-28"
    >
      <aside class="w-full lg:w-80 flex-shrink-0 lg:sticky lg:top-24 h-fit">
        <div
          class="rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-lg shadow-lg border border-slate-200 dark:border-slate-700 p-6 flex flex-col items-center text-center gap-4"
        >
          <div
            class="p-1 rounded-full bg-gradient-to-tr from-teal-400 to-cyan-400 mb-2"
          >
            <img
              src="assets/images/profile.jpeg"
              alt="Profile photo of Md Fahim"
              class="w-32 h-32 rounded-full border-4 border-white dark:border-slate-800 shadow-md object-cover"
            />
          </div>
          <h1 class="text-2xl font-bold text-teal-600 dark:text-teal-300">
            Md Fahim
          </h1>
          <p class="text-sm text-slate-500 dark:text-slate-400 -mt-2">
            Exploring Life 
          </p>
          <p class="text-sm text-slate-400 dark:text-slate-500 italic">
            "Keep Learning" 
          </p>
          <div class="flex flex-wrap justify-center gap-x-4 gap-y-2 pt-2">
            <a
              href="mailto:fahimcse381@gmail.com"
              class="flex items-center gap-2 text-slate-600 dark:text-slate-300 hover:text-teal-500 dark:hover:text-teal-300 text-sm transition-colors"
            >
              <i data-lucide="mail" class="w-4 h-4"></i>Email
            </a>
            <a
              href="https://github.com/md-fahim"
              target="_blank"
              rel="noopener"
              class="flex items-center gap-2 text-slate-600 dark:text-slate-300 hover:text-teal-500 dark:hover:text-teal-300 text-sm transition-colors"
            >
              <i data-lucide="github" class="w-4 h-4"></i>GitHub
            </a>
            <a
              href="https://www.linkedin.com/in/md-fahim-1a159b373/"
              target="_blank"
              rel="noopener"
              class="flex items-center gap-2 text-slate-600 dark:text-slate-300 hover:text-teal-500 dark:hover:text-teal-300 text-sm transition-colors"
            >
              <i data-lucide="linkedin" class="w-4 h-4"></i>LinkedIn
            </a>
          </div>
        </div>
      </aside>

      <div class="flex-1 flex flex-col gap-8">
        <section
          id="about-main"
          class="rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-lg shadow-lg border border-slate-200 dark:border-slate-700 p-6 flex flex-col gap-2 transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
        >
          <h2 class="text-xl font-bold text-teal-600 dark:text-teal-300 mb-2">
            About Me
          </h2>
          <p
            class="text-base text-slate-600 dark:text-slate-300 leading-relaxed"
          >
            I'm a passionate researcher and developer with a strong interest in
            building intelligent systems that can learn and reason. My current
            focus is on exploring the frontiers of AI.
          </p>
          <p
            class="text-base text-slate-600 dark:text-slate-300 leading-relaxed pt-2"
          >
            <strong>Research Interests:</strong>
            <span class="font-semibold text-teal-700 dark:text-teal-400">
              Artificial Intelligence, Machine Learning, Data Science, Deep
              Learning, LLMs, Agentic Systems
            </span>
          </p>
        </section>

        <section
          id="selected_pub-section"
          class="rounded-2xl bg-white/50 dark:bg-slate-800/50 backdrop-blur-lg shadow-lg border border-slate-200 dark:border-slate-700 p-6 flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1"
        >
          <div class="flex items-center gap-3 mb-4">
            <i data-lucide="award" class="w-6 h-6 text-teal-500 dark:text-teal-400"></i>
            <h2 class="text-xl font-semibold text-teal-600 dark:text-teal-400">Selected Publications</h2>
          </div>
          <div id="selected_pub-md" class="prose prose-custom dark:prose-invert max-w-none prose-a:transition-colors prose-a:duration-200 hover:prose-a:text-teal-700 dark:hover:prose-a:text-teal-300">
            <!-- Publications will be injected here -->
          </div>
        </section>
      </div>
    </main>

    <div id="footer-partial"></div>

    <script src="scripts/partials.js"></script>
    <script>
      // Helper to copy BibTeX
      function copyBibTeX(button, bibText) {
        navigator.clipboard.writeText(bibText).then(() => {
          const originalContent = button.innerHTML;
          button.innerHTML = `<i data-lucide="check" class="w-3.5 h-3.5"></i>Copied!`;
          lucide.createIcons();
          setTimeout(() => {
            button.innerHTML = originalContent;
            lucide.createIcons();
          }, 2000);
        }).catch(err => console.error("Failed to copy text:", err));
      }

      // Render selected publications
      function renderSelectedPublications(md, containerId) {
        const entries = md.split(/\r?\n-{3,}\r?\n/).map(e => e.trim()).filter(Boolean);

        const parsed = entries.map(entry => {
          const fields = {};
          let current = null;
          entry.split(/\r?\n/).forEach(line => {
            const sec = line.match(/^\[(\w+)\]$/);
            if (sec) {
              current = sec[1].toLowerCase();
              fields[current] = "";
            } else if (current) {
              if (fields[current]) fields[current] += "\n";
              fields[current] += line.trim();
            }
          });
          return fields;
        });

        const rendered = parsed.map(f => {
          const imgHtml = f.image ? `<div class="w-24 h-24 sm:w-32 sm:h-32 border border-slate-200 dark:border-slate-700 rounded flex items-center justify-center mb-2"><img src="${f.image}" alt="${f.title || 'Publication'}" class="w-full h-full object-contain p-1 rounded"></div>` : "";
          const titleHtml = f.title ? `<div class="font-semibold text-base sm:text-lg text-slate-800 dark:text-white">${f.title}</div>` : "";
          const authorHtml = f.author ? `<div class="text-sm text-slate-600 dark:text-slate-300 mt-1 mb-1">${f.author}</div>` : "";
          const venueHtml = f.venue ? `<div class="text-xs text-slate-500 dark:text-slate-400 mb-2">${f.venue} ${f.year ? "(" + f.year + ")" : ""}</div>` : "";
          const paperHtml = f.paper ? `<a href="${f.paper}" target="_blank" rel="noopener" class="inline-flex items-center gap-1.5 px-3 py-1 rounded-md border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-xs font-medium hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"><i data-lucide="file-text" class="w-3.5 h-3.5"></i>Paper</a>` : "";
          const codeHtml = f.code ? `<a href="${f.code}" target="_blank" rel="noopener" class="inline-flex items-center gap-1.5 px-3 py-1 rounded-md border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-xs font-medium hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"><i data-lucide="code-2" class="w-3.5 h-3.5"></i>Code</a>` : "";
          const bibHtml = f.bib ? `<button onclick="copyBibTeX(this, \`${f.bib}\`)" class="inline-flex items-center gap-1.5 px-3 py-1 rounded-md border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 text-xs font-medium hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors"><i data-lucide="quote" class="w-3.5 h-3.5"></i>BIB</button>` : "";

          return `
            <div class="flex flex-col sm:flex-row gap-4 border-b border-slate-200 dark:border-slate-700 py-4">
              ${imgHtml}
              <div class="flex-1">
                ${titleHtml}
                ${authorHtml}
                ${venueHtml}
                <div class="flex flex-wrap gap-2 mt-1">
                  ${paperHtml}${codeHtml}${bibHtml}
                </div>
              </div>
            </div>
          `;
        }).join("");

        document.getElementById(containerId).innerHTML = rendered;
        lucide.createIcons();
      }

      // Fetch and render selected publications Markdown
      fetch("content/selected_publications.md")
        .then(res => res.text())
        .then(md => renderSelectedPublications(md, "selected_pub-md"))
        .catch(err => console.error("Failed to load selected publications:", err));
    </script>
  </body>
</html>
