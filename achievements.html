<!DOCTYPE html>
<html lang="en" id="html-root">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Achievements by Md Fahim"
    />
    <title>Achievements | Academic Profile</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/animations.css" />
    <script src="https://cdn.tailwindcss.com?plugins=typography,forms"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      .achievement-card {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .achievement-card:hover {
        transform: translateX(8px);
        box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
      }

      .icon-wrapper {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        border-radius: 12px;
        padding: 12px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      }

      .achievement-icon {
        min-width: 48px;
        min-height: 48px;
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      }

      .timeline-line {
        position: absolute;
        left: 23px;
        top: 60px;
        bottom: -20px;
        width: 2px;
        background: linear-gradient(to bottom, #fbbf24, #f59e0b, transparent);
      }

      .achievement-year {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: 700;
      }

      @keyframes slideInLeft {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .achievement-card {
        animation: slideInLeft 0.5s ease-out forwards;
        opacity: 0;
      }

      .achievement-card:nth-child(1) { animation-delay: 0.1s; }
      .achievement-card:nth-child(2) { animation-delay: 0.2s; }
      .achievement-card:nth-child(3) { animation-delay: 0.3s; }
      .achievement-card:nth-child(4) { animation-delay: 0.4s; }
      .achievement-card:nth-child(5) { animation-delay: 0.5s; }
      .achievement-card:nth-child(6) { animation-delay: 0.6s; }
      .achievement-card:nth-child(7) { animation-delay: 0.7s; }
      .achievement-card:nth-child(8) { animation-delay: 0.8s; }
      .achievement-card:nth-child(9) { animation-delay: 0.9s; }
      .achievement-card:nth-child(10) { animation-delay: 1s; }
      .achievement-card:nth-child(n+11) { animation-delay: 1.1s; }

      .medal-badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
      }

      .medal-gold {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        color: white;
      }

      .medal-silver {
        background: linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%);
        color: white;
      }

      .medal-bronze {
        background: linear-gradient(135deg, #d97706 0%, #92400e 100%);
        color: white;
      }

      .rank-badge {
        background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.875rem;
        font-weight: 600;
        display: inline-block;
      }
    </style>
  </head>

  <body
    class="font-sans bg-gradient-to-br from-slate-50 via-amber-50/30 to-slate-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-900 text-slate-700 dark:text-slate-300 min-h-screen flex flex-col transition-colors duration-300"
  >
    <div id="header-partial"></div>

    <main class="flex-1 w-full max-w-7xl mx-auto px-4 pb-16 pt-28">
      <!-- Header Section -->
      <div class="mb-12 text-center">
        <div class="inline-block mb-4">
          <div class="icon-wrapper">
            <i data-lucide="trophy" class="w-8 h-8 text-white"></i>
          </div>
        </div>
        <h1 class="text-4xl sm:text-5xl font-extrabold bg-gradient-to-r from-amber-600 to-orange-600 dark:from-amber-400 dark:to-orange-400 bg-clip-text text-transparent mb-3">
          Achievements & Awards
        </h1>
        <p class="text-slate-600 dark:text-slate-400 text-lg max-w-2xl mx-auto">
          Recognition and milestones in AI research and data science competitions
        </p>
      </div>

      <!-- Achievements Timeline -->
      <div id="achievements-container" class="max-w-5xl mx-auto relative">
        <div class="timeline-line"></div>
      </div>
    </main>

    <div id="footer-partial"></div>

    <script src="scripts/partials.js"></script>
    <script>
      marked.setOptions({
        mangle: false,
        headerIds: false,
      });

      const container = document.getElementById("achievements-container");

      // Parse achievement items from markdown
      function parseAchievements(markdown) {
        const achievements = [];
        const lines = markdown.split('\n').filter(line => line.trim());
        
        let currentAchievement = null;
        
        lines.forEach(line => {
          line = line.trim();
          
          // Check for title (starts with ##)
          if (line.startsWith('##')) {
            if (currentAchievement) {
              achievements.push(currentAchievement);
            }
            currentAchievement = {
              title: line.replace(/^##\s*/, '').trim(),
              description: '',
              date: '',
              link: ''
            };
          }
          // Check for description (starts with **)
          else if (line.startsWith('**Description:**')) {
            if (currentAchievement) {
              currentAchievement.description = line.replace(/^\*\*Description:\*\*\s*/, '').trim();
            }
          }
          // Check for date (starts with **)
          else if (line.startsWith('**Date:**')) {
            if (currentAchievement) {
              currentAchievement.date = line.replace(/^\*\*Date:\*\*\s*/, '').trim();
            }
          }
          // Check for link (starts with **)
          else if (line.startsWith('**Link:**')) {
            if (currentAchievement) {
              const linkMatch = line.match(/\[.*?\]\((.*?)\)/);
              if (linkMatch) {
                currentAchievement.link = linkMatch[1];
              }
            }
          }
        });
        
        if (currentAchievement) {
          achievements.push(currentAchievement);
        }
        
        return achievements;
      }

      // Get icon based on achievement type
      function getIconForAchievement(title, description) {
        const lowerTitle = title.toLowerCase();
        const lowerDesc = description.toLowerCase();
        
        if (lowerTitle.includes('reviewer')) return 'user-check';
        if (lowerTitle.includes('kaggle')) return 'award';
        if (lowerTitle.includes('best paper')) return 'file-text';
        if (lowerTitle.includes('winner') || lowerTitle.includes('1st place')) return 'trophy';
        if (lowerTitle.includes('2nd place')) return 'medal';
        if (lowerTitle.includes('finalist') || lowerDesc.includes('top 20')) return 'target';
        if (lowerDesc.includes('ranked')) return 'trending-up';
        
        return 'star';
      }

      // Extract medals and ranks from description
      function extractBadges(description) {
        const badges = [];
        
        // Extract medal information
        const silverMatch = description.match(/(\d+)\s*silver/i);
        const bronzeMatch = description.match(/(\d+)\s*bronze/i);
        const goldMatch = description.match(/(\d+)\s*gold/i);
        
        if (goldMatch) badges.push({ type: 'gold', count: goldMatch[1] });
        if (silverMatch) badges.push({ type: 'silver', count: silverMatch[1] });
        if (bronzeMatch) badges.push({ type: 'bronze', count: bronzeMatch[1] });
        
        // Extract ranking information
        const rankMatch = description.match(/Ranked\s+(\d+(?:st|nd|rd|th))/i) || 
                          description.match(/(\d+(?:st|nd|rd|th))\s+Place/i);
        if (rankMatch) {
          badges.push({ type: 'rank', text: rankMatch[1] });
        }
        
        // Extract top percentage
        const topPercentMatch = description.match(/Top\s+(\d+%)/i);
        if (topPercentMatch) {
          badges.push({ type: 'percent', text: topPercentMatch[1] });
        }
        
        return badges;
      }

      // Create badge HTML
      function createBadgeHTML(badges) {
        return badges.map(badge => {
          if (badge.type === 'gold') {
            return `<span class="medal-badge medal-gold">ü•á ${badge.count} Gold</span>`;
          } else if (badge.type === 'silver') {
            return `<span class="medal-badge medal-silver">ü•à ${badge.count} Silver</span>`;
          } else if (badge.type === 'bronze') {
            return `<span class="medal-badge medal-bronze">ü•â ${badge.count} Bronze</span>`;
          } else if (badge.type === 'rank') {
            return `<span class="rank-badge">üèÜ ${badge.text}</span>`;
          } else if (badge.type === 'percent') {
            return `<span class="rank-badge">üìä ${badge.text}</span>`;
          }
          return '';
        }).join(' ');
      }

      fetch("content/achievements.md")
        .then((res) => {
          if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);
          return res.text();
        })
        .then((md) => {
          const achievements = parseAchievements(md);

          achievements.forEach((achievement, index) => {
            const icon = getIconForAchievement(achievement.title, achievement.description);
            const badges = extractBadges(achievement.description);
            const badgesHTML = createBadgeHTML(badges);

            const card = document.createElement("div");
            card.className = "achievement-card flex gap-6 mb-8 relative";

            const linkStart = achievement.link ? `<a href="${achievement.link}" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity">` : '';
            const linkEnd = achievement.link ? '</a>' : '';

            card.innerHTML = `
              <div class="achievement-icon flex-shrink-0">
                <i data-lucide="${icon}" class="w-6 h-6 text-white"></i>
              </div>
              
              <div class="flex-1 bg-white/80 dark:bg-slate-800/80 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200/50 dark:border-slate-700/50 p-6 transition-all duration-300">
                <div class="flex flex-wrap items-start justify-between gap-4 mb-3">
                  <div class="flex-1">
                    ${linkStart}
                      <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-2 flex items-center gap-2">
                        ${achievement.title}
                        ${achievement.link ? '<i data-lucide="external-link" class="w-4 h-4 text-amber-600 dark:text-amber-400"></i>' : ''}
                      </h3>
                    ${linkEnd}
                    ${badgesHTML ? `<div class="flex flex-wrap gap-2 mb-3">${badgesHTML}</div>` : ''}
                  </div>
                  <span class="achievement-year text-sm font-semibold whitespace-nowrap">
                    ${achievement.date}
                  </span>
                </div>
                
                <p class="text-slate-600 dark:text-slate-300 leading-relaxed">
                  ${achievement.description}
                </p>
              </div>
            `;

            container.appendChild(card);
          });

          // Initial icon rendering
          lucide.createIcons();
        })
        .catch((err) => {
          console.error(`Failed to load content/achievements.md:`, err);
          container.innerHTML = `
            <div class="text-center py-12">
              <i data-lucide="alert-circle" class="w-16 h-16 text-slate-400 dark:text-slate-600 mx-auto mb-4"></i>
              <p class="text-slate-500 dark:text-slate-400 text-lg">Could not load achievements. Please check the console for errors.</p>
            </div>
          `;
          lucide.createIcons();
        });
    </script>
  </body>
</html>